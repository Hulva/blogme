<% layout('blogmePlate') -%>
<div class="row wrapper wrapper-content">
    <div id="post-form" class="col-md-10 col-md-offset-1 animated fadeInRight">
        <script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.config.js"></script>
        <script type="text/javascript" charset="utf-8" src="/ueditor/ueditor.all.min.js">
        </script>
        <script type="text/javascript" charset="utf-8" src="/ueditor/lang/zh-cn/zh-cn.js">
        </script>
        <div class="mail-box">
            <form method="post" id="sendPost">
                <div class="mail-box-header">
                    <div class="form-group">
                        <label>标题：</label>
                        <input type="text" name="title"/>
                    </div>
                    <div class="form-group">
                        <label>标签：</label>
                        <input type="text" name="tag1"/>
                        <input type="text" name="tag2"/>
                        <input type="text" name="tag3"/>
                    </div>
                </div>
                <div class="mail-body">
                    <script id="editor" type="text/plain" style="height:400px;"></script>
                    <input type="hidden" name="post" value="" id="postContent"/><br>
                    <button class="btn btn-primary" type="button" onclick="sendPost()">发表</button>
                </div>
            </form>
        </div>
    </div>
    <script type="text/javascript">
        //实例化编辑器
        //建议使用工厂方法getEditor创建和引用编辑器实例，如果在某个闭包下引用该编辑器，直接调用UE.getEditor('editor')就能拿到相关的实例
        var ue = UE.getEditor('editor');

        function sendPost() {
            document.getElementById("postContent").value = UE.getEditor('editor').getContent();
            console.log(ue);
            console.log(ue.getPlainTxt());
            document.getElementById("sendPost").submit();
        }
    </script>
</div>
